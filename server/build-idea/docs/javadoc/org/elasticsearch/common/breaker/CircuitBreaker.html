<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (12.0.2) on Wed Mar 15 08:58:13 CST 2023 -->
<title>CircuitBreaker (server 6.8.4.5-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="dc.created" content="2023-03-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CircuitBreaker (server 6.8.4.5-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6};
var tabs = {65535:["t0","\u6240\u6709\u65B9\u6CD5"],2:["t2","\u5B9E\u4F8B\u65B9\u6CD5"],4:["t3","\u62BD\u8C61\u65B9\u6CD5"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../index.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">程序包</span>&nbsp;<a href="package-summary.html">org.elasticsearch.common.breaker</a></div>
<h2 title="接口 CircuitBreaker" class="title">接口 CircuitBreaker</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已知实现类:</dt>
<dd><code><a href="ChildMemoryCircuitBreaker.html" title="org.elasticsearch.common.breaker中的类">ChildMemoryCircuitBreaker</a></code>, <code><a href="NoopCircuitBreaker.html" title="org.elasticsearch.common.breaker中的类">NoopCircuitBreaker</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">CircuitBreaker</span></pre>
<div class="block">Interface for an object that can be incremented, breaking after some
 configured limit has been reached.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<div class="memberSummary">
<table>
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">修饰符和类型</th>
<th class="colSecond" scope="col">接口</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="CircuitBreaker.Type.html" title="org.elasticsearch.common.breaker中的枚举">CircuitBreaker.Type</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<div class="memberSummary">
<table>
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">修饰符和类型</th>
<th class="colSecond" scope="col">字段</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ACCOUNTING">ACCOUNTING</a></span></code></th>
<td class="colLast">
<div class="block">The accounting breaker tracks things held in memory that is independent
 of the request lifecycle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#FIELDDATA">FIELDDATA</a></span></code></th>
<td class="colLast">
<div class="block">The fielddata breaker tracks data used for fielddata (on fields) as well
 as the id cached used for parent/child queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#IN_FLIGHT_REQUESTS">IN_FLIGHT_REQUESTS</a></span></code></th>
<td class="colLast">
<div class="block">The in-flight request breaker tracks bytes allocated for reading and
 writing requests on the network layer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#PARENT">PARENT</a></span></code></th>
<td class="colLast">
<div class="block">The parent breaker is a sum of all the following breakers combined.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#REQUEST">REQUEST</a></span></code></th>
<td class="colLast">
<div class="block">The request breaker tracks memory used for particular requests.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">所有方法</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">实例方法</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">抽象方法</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<tr>
<th class="colFirst" scope="col">修饰符和类型</th>
<th class="colSecond" scope="col">方法</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addEstimateBytesAndMaybeBreak(long,java.lang.String)">addEstimateBytesAndMaybeBreak</a></span>&#8203;(long&nbsp;bytes,
                             java.lang.String&nbsp;label)</code></th>
<td class="colLast">
<div class="block">add bytes to the breaker and maybe trip</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addWithoutBreaking(long)">addWithoutBreaking</a></span>&#8203;(long&nbsp;bytes)</code></th>
<td class="colLast">
<div class="block">Adjust the circuit breaker without tripping</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#circuitBreak(java.lang.String,long)">circuitBreak</a></span>&#8203;(java.lang.String&nbsp;fieldName,
            long&nbsp;bytesNeeded)</code></th>
<td class="colLast">
<div class="block">Trip the circuit breaker</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLimit()">getLimit</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOverhead()">getOverhead</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTrippedCount()">getTrippedCount</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUsed()">getUsed</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a id="PARENT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PARENT</h4>
<pre>static final&nbsp;java.lang.String PARENT</pre>
<div class="block">The parent breaker is a sum of all the following breakers combined. With
 this we allow a single breaker to have a significant amount of memory
 available while still having a "total" limit for all breakers. Note that
 it's not a "real" breaker in that it cannot be added to or subtracted
 from by itself.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.PARENT">常量字段值</a></dd>
</dl>
</li>
</ul>
<a id="FIELDDATA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELDDATA</h4>
<pre>static final&nbsp;java.lang.String FIELDDATA</pre>
<div class="block">The fielddata breaker tracks data used for fielddata (on fields) as well
 as the id cached used for parent/child queries.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.FIELDDATA">常量字段值</a></dd>
</dl>
</li>
</ul>
<a id="REQUEST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REQUEST</h4>
<pre>static final&nbsp;java.lang.String REQUEST</pre>
<div class="block">The request breaker tracks memory used for particular requests. This
 includes allocations for things like the cardinality aggregation, and
 accounting for the number of buckets used in an aggregation request.
 Generally the amounts added to this breaker are released after a request
 is finished.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.REQUEST">常量字段值</a></dd>
</dl>
</li>
</ul>
<a id="IN_FLIGHT_REQUESTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IN_FLIGHT_REQUESTS</h4>
<pre>static final&nbsp;java.lang.String IN_FLIGHT_REQUESTS</pre>
<div class="block">The in-flight request breaker tracks bytes allocated for reading and
 writing requests on the network layer.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.IN_FLIGHT_REQUESTS">常量字段值</a></dd>
</dl>
</li>
</ul>
<a id="ACCOUNTING">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ACCOUNTING</h4>
<pre>static final&nbsp;java.lang.String ACCOUNTING</pre>
<div class="block">The accounting breaker tracks things held in memory that is independent
 of the request lifecycle. This includes memory used by Lucene for
 segments.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.ACCOUNTING">常量字段值</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a id="circuitBreak(java.lang.String,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>circuitBreak</h4>
<pre class="methodSignature">void&nbsp;circuitBreak&#8203;(java.lang.String&nbsp;fieldName,
                  long&nbsp;bytesNeeded)</pre>
<div class="block">Trip the circuit breaker</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>fieldName</code> - name of the field responsible for tripping the breaker</dd>
<dd><code>bytesNeeded</code> - bytes asked for but unable to be allocated</dd>
</dl>
</li>
</ul>
<a id="addEstimateBytesAndMaybeBreak(long,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEstimateBytesAndMaybeBreak</h4>
<pre class="methodSignature">double&nbsp;addEstimateBytesAndMaybeBreak&#8203;(long&nbsp;bytes,
                                     java.lang.String&nbsp;label)
                              throws <a href="CircuitBreakingException.html" title="org.elasticsearch.common.breaker中的类">CircuitBreakingException</a></pre>
<div class="block">add bytes to the breaker and maybe trip</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>bytes</code> - number of bytes to add</dd>
<dd><code>label</code> - string label describing the bytes being added</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the number of "used" bytes for the circuit breaker</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="CircuitBreakingException.html" title="org.elasticsearch.common.breaker中的类">CircuitBreakingException</a></code></dd>
</dl>
</li>
</ul>
<a id="addWithoutBreaking(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWithoutBreaking</h4>
<pre class="methodSignature">long&nbsp;addWithoutBreaking&#8203;(long&nbsp;bytes)</pre>
<div class="block">Adjust the circuit breaker without tripping</div>
</li>
</ul>
<a id="getUsed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsed</h4>
<pre class="methodSignature">long&nbsp;getUsed()</pre>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the currently used bytes the breaker is tracking</dd>
</dl>
</li>
</ul>
<a id="getLimit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLimit</h4>
<pre class="methodSignature">long&nbsp;getLimit()</pre>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>maximum number of bytes the circuit breaker can track before tripping</dd>
</dl>
</li>
</ul>
<a id="getOverhead()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOverhead</h4>
<pre class="methodSignature">double&nbsp;getOverhead()</pre>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>overhead of circuit breaker</dd>
</dl>
</li>
</ul>
<a id="getTrippedCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrippedCount</h4>
<pre class="methodSignature">long&nbsp;getTrippedCount()</pre>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the number of times the circuit breaker has been tripped</dd>
</dl>
</li>
</ul>
<a id="getName()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getName</h4>
<pre class="methodSignature">java.lang.String&nbsp;getName()</pre>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the name of the breaker</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../index.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
