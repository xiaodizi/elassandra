<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (12.0.2) on Wed Mar 15 08:58:13 CST 2023 -->
<title>org.elasticsearch.persistent (server 6.8.4.5-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="dc.created" content="2023-03-15">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.elasticsearch.persistent (server 6.8.4.5-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../index.html">概览</a></li>
<li class="navBarCell1Rev">程序包</li>
<li>类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="程序包" class="title">程序包&nbsp;org.elasticsearch.persistent</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block">The Persistent Tasks Executors are responsible for executing restartable tasks that can survive disappearance of a
 coordinating and executor nodes.
 <p>
 In order to be resilient to node restarts, the persistent tasks are using the cluster state instead of a transport service to send
 requests and responses. The execution is done in six phases:
 <p>
 1. The coordinating node sends an ordinary transport request to the master node to start a new persistent task. This task is handled
 by the <a href="PersistentTasksService.html" title="org.elasticsearch.persistent中的类"><code>PersistentTasksService</code></a>, which is using
 <a href="PersistentTasksClusterService.html" title="org.elasticsearch.persistent中的类"><code>PersistentTasksClusterService</code></a> to update cluster state with the record about running persistent
 task.
 <p>
 2. The master node updates the <a href="PersistentTasksCustomMetaData.html" title="org.elasticsearch.persistent中的类"><code>PersistentTasksCustomMetaData</code></a> in the cluster state to indicate
 that there is a new persistent task running in the system.
 <p>
 3. The <a href="PersistentTasksNodeService.html" title="org.elasticsearch.persistent中的类"><code>PersistentTasksNodeService</code></a> running on every node in the cluster monitors changes in
 the cluster state and starts execution of all new tasks assigned to the node it is running on.
 <p>
 4. If the task fails to start on the node, the <a href="PersistentTasksNodeService.html" title="org.elasticsearch.persistent中的类"><code>PersistentTasksNodeService</code></a> uses the
 <a href="PersistentTasksCustomMetaData.html" title="org.elasticsearch.persistent中的类"><code>PersistentTasksCustomMetaData</code></a> to notify the
 <a href="PersistentTasksService.html" title="org.elasticsearch.persistent中的类"><code>PersistentTasksService</code></a>, which reassigns the action to another node in the cluster.
 <p>
 5. If a task finishes successfully on the node and calls listener.onResponse(), the corresponding persistent action is removed from the
 cluster state unless removeOnCompletion flag for this task is set to false.
 <p>
 6. The <a href="RemovePersistentTaskAction.html" title="org.elasticsearch.persistent中的类"><code>RemovePersistentTaskAction</code></a> action can be also used to remove the persistent task.</div>
</section>
<ul class="blockList">
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>接口概要</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">接口</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTaskParams.html" title="org.elasticsearch.persistent中的接口">PersistentTaskParams</a></th>
<td class="colLast">
<div class="block">Parameters used to start persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksService.WaitForPersistentTaskListener.html" title="org.elasticsearch.persistent中的接口">PersistentTasksService.WaitForPersistentTaskListener</a>&lt;P extends <a href="PersistentTaskParams.html" title="org.elasticsearch.persistent中的接口">PersistentTaskParams</a>&gt;</th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTaskState.html" title="org.elasticsearch.persistent中的接口">PersistentTaskState</a></th>
<td class="colLast">
<div class="block"><a href="PersistentTaskState.html" title="org.elasticsearch.persistent中的接口"><code>PersistentTaskState</code></a> represents the state of the persistent tasks, as it
 is persisted in the cluster state.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>类概要</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">类</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="AllocatedPersistentTask.html" title="org.elasticsearch.persistent中的类">AllocatedPersistentTask</a></th>
<td class="colLast">
<div class="block">Represents a executor node operation that corresponds to a persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CompletionPersistentTaskAction.html" title="org.elasticsearch.persistent中的类">CompletionPersistentTaskAction</a></th>
<td class="colLast">
<div class="block">Action that is used by executor node to indicate that the persistent action finished or failed on the node and needs to be
 removed from the cluster state in case of successful completion or restarted on some other node in case of failure.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CompletionPersistentTaskAction.Request.html" title="org.elasticsearch.persistent中的类">CompletionPersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CompletionPersistentTaskAction.RequestBuilder.html" title="org.elasticsearch.persistent中的类">CompletionPersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CompletionPersistentTaskAction.TransportAction.html" title="org.elasticsearch.persistent中的类">CompletionPersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="NodePersistentTasksExecutor.html" title="org.elasticsearch.persistent中的类">NodePersistentTasksExecutor</a></th>
<td class="colLast">
<div class="block">This component is responsible for execution of persistent tasks.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTaskResponse.html" title="org.elasticsearch.persistent中的类">PersistentTaskResponse</a></th>
<td class="colLast">
<div class="block">Response upon a successful start or an persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksClusterService.html" title="org.elasticsearch.persistent中的类">PersistentTasksClusterService</a></th>
<td class="colLast">
<div class="block">Component that runs only on the master node and is responsible for assigning running tasks to nodes</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksCustomMetaData.html" title="org.elasticsearch.persistent中的类">PersistentTasksCustomMetaData</a></th>
<td class="colLast">
<div class="block">A cluster state record that contains a list of all running persistent tasks</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksCustomMetaData.Assignment.html" title="org.elasticsearch.persistent中的类">PersistentTasksCustomMetaData.Assignment</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksCustomMetaData.Builder.html" title="org.elasticsearch.persistent中的类">PersistentTasksCustomMetaData.Builder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksCustomMetaData.PersistentTask.html" title="org.elasticsearch.persistent中的类">PersistentTasksCustomMetaData.PersistentTask</a>&lt;P extends <a href="PersistentTaskParams.html" title="org.elasticsearch.persistent中的接口">PersistentTaskParams</a>&gt;</th>
<td class="colLast">
<div class="block">A record that represents a single running persistent task</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksExecutor.html" title="org.elasticsearch.persistent中的类">PersistentTasksExecutor</a>&lt;Params extends <a href="PersistentTaskParams.html" title="org.elasticsearch.persistent中的接口">PersistentTaskParams</a>&gt;</th>
<td class="colLast">
<div class="block">An executor of tasks that can survive restart of requesting or executing node.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksExecutorRegistry.html" title="org.elasticsearch.persistent中的类">PersistentTasksExecutorRegistry</a></th>
<td class="colLast">
<div class="block">Components that registers all persistent task executors</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksNodeService.html" title="org.elasticsearch.persistent中的类">PersistentTasksNodeService</a></th>
<td class="colLast">
<div class="block">This component is responsible for coordination of execution of persistent tasks on individual nodes.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksNodeService.Status.html" title="org.elasticsearch.persistent中的类">PersistentTasksNodeService.Status</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksService.html" title="org.elasticsearch.persistent中的类">PersistentTasksService</a></th>
<td class="colLast">
<div class="block">This service is used by persistent tasks and allocated persistent tasks to communicate changes
 to the master node so that the master can update the cluster state and can track of the states
 of the persistent tasks.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RemovePersistentTaskAction.html" title="org.elasticsearch.persistent中的类">RemovePersistentTaskAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RemovePersistentTaskAction.Request.html" title="org.elasticsearch.persistent中的类">RemovePersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RemovePersistentTaskAction.RequestBuilder.html" title="org.elasticsearch.persistent中的类">RemovePersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RemovePersistentTaskAction.TransportAction.html" title="org.elasticsearch.persistent中的类">RemovePersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="StartPersistentTaskAction.html" title="org.elasticsearch.persistent中的类">StartPersistentTaskAction</a></th>
<td class="colLast">
<div class="block">This action can be used to add the record for the persistent action to the cluster state.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="StartPersistentTaskAction.Request.html" title="org.elasticsearch.persistent中的类">StartPersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="StartPersistentTaskAction.RequestBuilder.html" title="org.elasticsearch.persistent中的类">StartPersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="StartPersistentTaskAction.TransportAction.html" title="org.elasticsearch.persistent中的类">StartPersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="UpdatePersistentTaskStatusAction.html" title="org.elasticsearch.persistent中的类">UpdatePersistentTaskStatusAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="UpdatePersistentTaskStatusAction.Request.html" title="org.elasticsearch.persistent中的类">UpdatePersistentTaskStatusAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="UpdatePersistentTaskStatusAction.RequestBuilder.html" title="org.elasticsearch.persistent中的类">UpdatePersistentTaskStatusAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="UpdatePersistentTaskStatusAction.TransportAction.html" title="org.elasticsearch.persistent中的类">UpdatePersistentTaskStatusAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>枚举概要</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">枚举</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="AllocatedPersistentTask.State.html" title="org.elasticsearch.persistent中的枚举">AllocatedPersistentTask.State</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../index.html">概览</a></li>
<li class="navBarCell1Rev">程序包</li>
<li>类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
